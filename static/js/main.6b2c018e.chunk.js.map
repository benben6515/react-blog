{"version":3,"sources":["styles/GlobalStyle.js","contexts.js","styles/PostStyled.js","webAPI.js","pages/HomePage.js","pages/AboutPage.js","localStorageAPI.js","pages/UserPage.js","pages/PostPage.js","styles/animations.js","pages/ErrorPage.js","pages/NewPostPage.js","pages/LoadingPage.js","images/day_night_icon.svg","components/Nav.js","components/Footer.js","styles/theme.js","components/Blog.js","index.js"],"names":["GlobalStyles","css","Button","styled","button","theme","backgroundColor","textColor","hoverFilter","Wrap","div","Container","TitleH3","h3","infoColor","AuthContext","createContext","LoadingContext","PostStyled","foregroundColor","boxShadow","bodyColor","titleColor","BASE_URL","process","getPosts","page","perPageItem","a","fetch","res","json","data","headers","get","link","lastPage","slice","lastIndexOf","getPost","id","register","nickname","username","password","method","body","JSON","stringify","login","getMe","token","addPost","title","PostWrap","PostsStyled","PaginationButton","Post","post","createdAt","className","to","Date","toLocaleString","replace","length","Pagination","setPage","lastPageNumber","isPageInFirst","isPageInLast","onClick","HomePage","useState","setLastPageNumber","posts","setPosts","setIsLoading","useContext","useEffect","map","PageWrap","TOKEN_NAME","REACT_APP_TOKEN_NAME","THEME_NAME","REACT_APP_THEME_NAME","setAuthToken","localStorage","setItem","getAuthToken","getItem","setTheme","LoginWrap","InputWrap","form","navBoxShadow","Input","userMethod","setUser","setUsername","setPassword","setNickname","passwordAgain","setPasswordAgain","errorMessage","setErrorMessage","history","useHistory","handleLogin","e","preventDefault","trim","loginRes","ok","getMeRes","push","handleRegister","onSubmit","type","value","onChange","target","UserPage","style","marginTop","lineHeight","letterSpacing","whiteSpace","PostPage","slug","useParams","setPost","drift","keyframes","flash","FlashMessage","ErrorPage","NewPostWrap","user","setTitle","content","setContent","handleSubmit","placeholder","rows","NewPost","rotate","LoadingStyled","loadingColor","LoadingPage","_extends","Object","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","SvgDayNightIcon","_ref","svgRef","titleId","props","enableBackground","viewBox","xmlSpace","xmlns","xmlnsXlink","ref","ForwardRef","IconWrap","NavWrap","Title","Link","Buttons","navCheckColor","NavButton","NavLogoutButton","IconButton","NavButtonWrap","activeOnlyWhenExact","match","useRouteMatch","path","exact","name","checked","readOnly","Nav","currentTheme","setCurrentTheme","location","useLocation","toggleNav","useRef","current","htmlFor","pathname","FooterWrap","Footer","light","dark","Blog","isLoading","Provider","basename","AboutPage","NewPostPage","ReactDOM","render","StrictMode","styles","GlobalStyle","document","getElementById"],"mappings":"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","file":"static/js/main.6b2c018e.chunk.js","sourcesContent":["import { css } from '@emotion/react'\r\nimport styled from '@emotion/styled'\r\n\r\nconst GlobalStyles = css`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    font-family: '微軟正黑體','Roboto';\r\n    transition: color 2s;\r\n    transition: background-color .8s;\r\n  }\r\n\r\n  html, body, #root {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst Button = styled.button`\r\n  background-color: ${({theme}) => theme.backgroundColor};\r\n  border: 1px solid ${({theme}) => theme.textColor};\r\n  border-radius: .2rem;\r\n  padding: 0 .5rem;\r\n  height: 2rem;\r\n  line-height: 2rem;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  &:hover{\r\n    filter: brightness(${({theme}) => theme.hoverFilter})\r\n  }\r\n`\r\n\r\nconst Wrap = styled.div`\r\n  width: clamp(35ch, 60%, 75ch);\r\n  margin: 3rem auto 0rem;\r\n  * {\r\n    color: ${({theme}) => theme.textColor}\r\n  }\r\n  p {\r\n    line-height: 1.5;\r\n  }\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst TitleH3 = styled.h3`\r\n  font-size: 1.4rem;\r\n  display: inline-block;\r\n  margin-top: 5rem;\r\n  position: relative;\r\n  &:after {\r\n    content: \"\";\r\n    display: block;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    background: ${({theme}) => theme.infoColor};\r\n    width: 0;\r\n    height: 1px;\r\n    transition: .4s;\r\n  }\r\n  &:hover:after {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nexport default GlobalStyles\r\nexport { Button, Wrap, Container, TitleH3 }\r\n","import { createContext } from 'react'\r\n\r\nexport const AuthContext = createContext(null)\r\n\r\nexport const LoadingContext = createContext(null)","import styled from '@emotion/styled'\r\n\r\nconst PostStyled = styled.div`\r\n  width: 100%;\r\n  margin-bottom: 1.5rem;\r\n  padding: .5rem;\r\n  background: ${({theme}) => theme.foregroundColor};\r\n  border-right: 1px solid ${({theme}) => theme.infoColor};\r\n  border-bottom: 1px solid ${({theme}) => theme.infoColor};\r\n  box-shadow: ${({theme}) => theme.boxShadow};\r\n  border-radius: 0 0 .4rem 0;\r\n  display: grid;\r\n  grid-template-rows: 3rem 1rem auto;\r\n  position: relative;\r\n  &:before {\r\n    content: \"\";\r\n    display: block;\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    border-bottom: .6rem solid transparent;\r\n    border-left: 1.6rem solid ${({theme}) => theme.bodyColor};\r\n    transition: .4s;\r\n  }\r\n  &:hover:before{\r\n    width: 1.6rem;\r\n    height: .6rem;\r\n    border-top: 2px solid ${({theme}) => theme.infoColor};\r\n    border-left: 2px solid ${({theme}) => theme.infoColor};\r\n  }\r\n\r\n  .title {\r\n    max-width: 100%;\r\n    display: block;\r\n    text-decoration: none;\r\n    letter-spacing: 1px;\r\n    font-weight: 500;\r\n    cursor: pointer;\r\n    font-size: 1.3rem;\r\n    color: ${({theme}) => theme.titleColor};\r\n    position: relative;\r\n    grid-row-start: 1;\r\n    grid-row-end: 2;\r\n    white-space: wrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    align-self: center;\r\n    justify-self: start;\r\n  }\r\n  .info {\r\n    font-size: .8rem;\r\n    color: ${({theme}) => theme.infoColor};\r\n    grid-row-start: 2;\r\n    grid-row-end: 3;\r\n    align-self: center;\r\n    justify-self: flex-end;\r\n  }\r\n  .content {\r\n    grid-row-start: 3;\r\n    grid-row-end: 4;\r\n    overflow: hidden;\r\n    text-overflow: hidden;\r\n    letter-spacing: 2px;\r\n    line-height: 1.5;\r\n    margin: 0 1rem;\r\n  }\r\n  .title:after {\r\n    content: \"\";\r\n    display: block;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    background: ${({theme}) => theme.infoColor};\r\n    width: 0;\r\n    height: 1px;\r\n    transition: .4s;\r\n  }\r\n  .title:hover:after {\r\n    width: 100%;\r\n  }\r\n  @media screen and (max-width: 840px) {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    justify-content: flex-start;\r\n    grid-template-columns: 100%;\r\n    grid-template-rows: auto 1rem auto;\r\n    .title {\r\n      grid-row-start: 1;\r\n      grid-row-end: 2;\r\n    }\r\n    .info {\r\n      grid-row-start: 2;\r\n      grid-row-end: 3;\r\n      justify-self: flex-end;\r\n    }\r\n    .content {\r\n      grid-row-start: 3;\r\n      grid-row-end: 4;\r\n    }\r\n  }\r\n`\r\n\r\nexport default PostStyled","const { REACT_APP_BASE_URL:BASE_URL } = process.env\r\n\r\n// api ------------------------\r\nconst getPosts =  async (page, perPageItem) => {\r\n  try {\r\n    const res = await fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc&_page=${page}&_limit=${perPageItem}`)\r\n    const data = await res.json()\r\n    const link = await res.headers.get('link')\r\n    const lastPage = link.slice(link.lastIndexOf('page=') + 5,link.lastIndexOf('&'))\r\n    return { data, lastPage }\r\n  }\r\n  catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\nconst getPost =  async (id) => {\r\n  try {\r\n    const res = await fetch(`${BASE_URL}/posts/${id}`)\r\n    const json = await res.json()\r\n    return json\r\n  }\r\n  catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\nconst register = async (nickname, username, password) => {\r\n  try {\r\n    const res = await fetch(`${BASE_URL}/register`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        nickname,\r\n        username,\r\n        password\r\n      })\r\n    })\r\n    const json = await res.json()\r\n    return json\r\n  }\r\n  catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\nconst login = async (username, password) => {\r\n  try {\r\n    const res = await fetch(`${BASE_URL}/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        username,\r\n        password\r\n      })\r\n    })\r\n    const json = await res.json()\r\n    return json\r\n  }\r\n  catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\nconst getMe = async (token) => {\r\n  try {\r\n    const res = await fetch(`${BASE_URL}/me`, {\r\n      headers: {\r\n        'authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    const json = await res.json()\r\n    return json\r\n  }\r\n  catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\nconst addPost = async (token, title, body) => {\r\n  try {\r\n    const res = await fetch(`${BASE_URL}/posts`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n        'authorization': `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        title,\r\n        body,\r\n      })\r\n    })\r\n    const json = await res.json()\r\n    return json\r\n  }\r\n  catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\nexport { getPosts, getPost, register, login, getMe, addPost }","import React, { useState, useEffect, useContext }from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from '@emotion/styled'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { LoadingContext } from '../contexts.js'\r\nimport PostStyled from '../styles/PostStyled.js'\r\nimport { Button, Wrap, Container } from '../styles/GlobalStyle'\r\nimport { getPosts } from '../webAPI.js'\r\n\r\nconst PostWrap = styled(Wrap)`\r\n  width: 100%;\r\n  padding: 2rem 0;\r\n`\r\n\r\nconst PostsStyled = styled(PostStyled)`\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-rows: auto 1rem auto;\r\n  .title {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .content:first-letter {\r\n    font-size: 1.2rem;\r\n    font-weight: 600;\r\n    margin-right: .5rem;\r\n    float: left;\r\n  }\r\n`\r\n\r\nconst PaginationButton = styled(Button)`\r\n  margin: .5rem;\r\n`\r\n\r\nconst Post = ({post}) => {\r\n  const { id, title, createdAt, body } = post\r\n  return (\r\n    <PostsStyled>\r\n      <Link className=\"title\" to={`/post/${id}`} >{title}</Link>\r\n      <p className=\"info\"> - {new Date(createdAt).toLocaleString().replace(',','')}</p>\r\n      <p className=\"content\">{body.length > 60 ? `${body.slice(0,60)}...` : body}</p>\r\n    </PostsStyled>\r\n  )\r\n}\r\nPost.propTypes = {\r\n  post: PropTypes.object\r\n}\r\n\r\nconst Pagination = ({ page, setPage, lastPageNumber }) => {\r\n  const isPageInFirst = page !== 1\r\n  const isPageInLast = page !== lastPageNumber\r\n\r\n  const handleNext = () => {\r\n    if (page >= lastPageNumber) return\r\n    setPage(() => page + 1)\r\n  }\r\n\r\n  const handlePrev = () => {\r\n    if (page <= 1) return\r\n    setPage(() => page - 1)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        {isPageInFirst && (\r\n          <PaginationButton onClick={() => setPage(1)}>首頁</PaginationButton>\r\n        )}\r\n        {isPageInLast && (\r\n          <PaginationButton onClick={handleNext}>下一頁</PaginationButton>\r\n        )}\r\n        {isPageInFirst && (\r\n          <PaginationButton onClick={handlePrev}>上一頁</PaginationButton>\r\n        )}\r\n        {isPageInLast && (\r\n          <PaginationButton onClick={() => setPage(lastPageNumber)}>\r\n            最後一頁\r\n          </PaginationButton>\r\n        )}\r\n      </Container>\r\n      <Container>\r\n        <div>\r\n          頁數：{page} / {lastPageNumber}\r\n        </div>\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst HomePage = () => {\r\n  const [page, setPage] = useState(1)\r\n  const [lastPageNumber, setLastPageNumber] = useState(1)\r\n  const [posts, setPosts] = useState([])\r\n  const { setIsLoading } = useContext(LoadingContext)\r\n  const { REACT_APP_PER_PAGE_ITEM:perPageItem } = process.env\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      await setIsLoading(true)\r\n      const { data, lastPage } = await getPosts(page, perPageItem)\r\n      await setPosts(data)\r\n      await setLastPageNumber(lastPage)\r\n      await setIsLoading(false)\r\n    })()\r\n  },[setIsLoading, page, perPageItem])\r\n\r\n  return (\r\n    <>\r\n      <Wrap>\r\n        <PostWrap>\r\n          {posts.map((post) => <Post key={post.id} post={post} /> )}\r\n          <Pagination page={page} setPage={setPage} lastPageNumber={lastPageNumber}/>\r\n        </PostWrap>\r\n      </Wrap>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HomePage;\r\n","import React from 'react'\r\nimport styled from '@emotion/styled'\r\nimport { Wrap, TitleH3 } from '../styles/GlobalStyle'\r\n\r\nconst PageWrap = styled(Wrap)`\r\n  width: 100%;\r\n  padding: 2rem 0;\r\n`\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n`\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <Wrap>\r\n      <PageWrap>\r\n        <TitleH3>關於我：</TitleH3>\r\n        <p>嗨嗨！我是 Benben &#128075; </p>\r\n        <p>這是一個黑白為主色的部落格，並可以切換黑白主題。</p>\r\n        <p>我在這裡錄記人生黑白無常的那些時刻...</p>\r\n        <Container>\r\n          <TitleH3>你知道嗎</TitleH3>\r\n          <p>RGB一般稱為【色光三原色】</p>\r\n          <p>R（red）紅、G（green）綠、B（blue）藍，顏色階調為 0-255</p>\r\n          <p>如果把三個色階加來除以 3 並把 RGB 指定成同樣的數字就可以把顏色變黑白</p>\r\n          </Container>\r\n      </PageWrap>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport default HomePage;\r\n","const { REACT_APP_TOKEN_NAME:TOKEN_NAME, REACT_APP_THEME_NAME:THEME_NAME } = process.env\r\n\r\n// token & theme storage ------------------------\r\nconst setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token)\r\n}\r\n\r\nconst getAuthToken = () => {\r\n  return localStorage.getItem(TOKEN_NAME) || ''\r\n}\r\n\r\nconst setTheme = (theme) => {\r\n  localStorage.setItem(THEME_NAME, theme)\r\n}\r\n\r\nconst getTheme = () => {\r\n  return localStorage.getItem(THEME_NAME) || 'light'\r\n}\r\n\r\nexport { setAuthToken, getAuthToken, setTheme, getTheme }","import React, { useState, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styled from '@emotion/styled'\r\n\r\nimport { AuthContext, LoadingContext } from '../contexts'\r\nimport { register, login, getMe } from '../webAPI'\r\nimport { setAuthToken, getAuthToken } from '../localStorageAPI'\r\nimport { Wrap, Button, Container } from '../styles/GlobalStyle'\r\n\r\nconst LoginWrap = styled(Wrap)`\r\n  width: 100%;\r\n  padding: 2rem 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst InputWrap = styled.form`\r\n  width: clamp(25ch, 40%, 35ch);\r\n  padding: 1rem;\r\n  box-shadow: ${({theme}) => theme.navBoxShadow};\r\n  border: 1px solid ${({theme}) => theme.infoColor};\r\n  border-radius: .4rem;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  .button {\r\n    align-self: center;\r\n    justify-content: center;\r\n    margin: 2rem 0 1rem;\r\n    width: clamp(3rem, 30%, 6rem);\r\n  }\r\n  .title {\r\n    align-self: flex-start;\r\n    margin: 1rem 0;\r\n    font-size: 1.2rem;\r\n  }\r\n  input[type=text], input[type=password] {\r\n    width: 100%;\r\n    background: ${({theme}) => theme.foregroundColor};\r\n    border: none;\r\n    border-bottom: 1px solid ${({theme}) => theme.titleColor};\r\n    border-radius: .3rem;\r\n    padding-left: .5rem;\r\n    height: 1.5rem;\r\n    line-height: 1.2;\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n`\r\n\r\nconst Input  = ({ userMethod }) => {\r\n  const { setUser } = useContext(AuthContext)\r\n  const { setIsLoading } = useContext(LoadingContext)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [nickname, setNickname] = useState('')\r\n  const [passwordAgain, setPasswordAgain] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const history = useHistory()\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault()\r\n    setErrorMessage('')\r\n    if (!username || !password) {\r\n      return setErrorMessage('請輸入帳號或密碼')\r\n    }\r\n    if (!username.trim().length\r\n      || !password.trim().length\r\n    ) return setErrorMessage('帳號或密碼不得為空白')\r\n\r\n    setIsLoading(true)\r\n    const loginRes = await login(username, password)\r\n    if (!loginRes.ok) return setErrorMessage('帳號或密碼錯誤')\r\n    setAuthToken(loginRes.token)\r\n\r\n    const getMeRes = await getMe(getAuthToken())\r\n    if (!getMeRes.ok) {\r\n      setAuthToken(null)\r\n      setIsLoading(false)\r\n      return setErrorMessage('帳號或密碼錯誤')\r\n    }\r\n    setUser(getMeRes.data)\r\n    setIsLoading(false)\r\n    history.push(\"/\")\r\n  }\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault()\r\n    setErrorMessage('')\r\n    if (!nickname || !username || !password || !passwordAgain) {\r\n      return setErrorMessage('請輸入暱帳號、密碼或再次確認密碼')\r\n    }\r\n    if (!nickname.trim().length\r\n      || !username.trim().length\r\n      || !password.trim().length\r\n      || !passwordAgain.trim().length\r\n    ) return setErrorMessage('暱帳號、密碼或再次確認密碼 不得為空白')\r\n\r\n    setIsLoading(true)\r\n    const loginRes = await register(nickname, username, password)\r\n    if (!loginRes.ok) return setErrorMessage('註冊失敗')\r\n    setAuthToken(loginRes.token)\r\n\r\n    const getMeRes = await getMe()\r\n    if (!getMeRes.ok) {\r\n      setAuthToken(null)\r\n      setIsLoading(false)\r\n      return setErrorMessage('帳號或密碼錯誤')\r\n    }\r\n    setUser(getMeRes.data)\r\n    setIsLoading(false)\r\n    history.push(\"/\")\r\n  }\r\n\r\n  return (\r\n    <InputWrap onSubmit={\r\n      userMethod === \"登入\"\r\n      ? handleLogin\r\n      : handleRegister\r\n    }>\r\n      <h1>{userMethod}</h1>\r\n      {errorMessage && <div>{errorMessage}！</div>}\r\n      {userMethod === \"註冊\" && (\r\n        <>\r\n          <div className=\"title\">暱稱：</div>\r\n          <input type=\"text\" value={nickname} onChange={e => setNickname(e.target.value)} />\r\n        </>\r\n      )}\r\n\r\n      <div className=\"title\">帳號：</div>\r\n      <input type=\"text\" value={username} onChange={e => setUsername(e.target.value)} />\r\n      <div className=\"title\">密碼：</div>\r\n      <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} />\r\n\r\n      {userMethod === \"註冊\" && (\r\n        <>\r\n          <div className=\"title\">再次確認密碼：</div>\r\n          <input type=\"password\" value={passwordAgain} onChange={e => setPasswordAgain(e.target.value)} />\r\n        </>\r\n      )}\r\n      <Button className=\"button\">{userMethod}</Button>\r\n    </InputWrap>\r\n  )\r\n}\r\n\r\nconst UserPage = ({ userMethod }) => {\r\n  return (\r\n    <Wrap>\r\n      <Container>\r\n        <LoginWrap>\r\n          <Input userMethod={userMethod}/>\r\n        </LoginWrap>\r\n      </Container>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport default UserPage;\r\n","import React, { useState, useEffect, useContext }from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport styled from '@emotion/styled'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport PostStyled from '../styles/PostStyled.js'\r\nimport { Wrap } from '../styles/GlobalStyle'\r\nimport { getPost } from '../webAPI.js'\r\nimport { LoadingContext } from '../contexts'\r\n\r\nconst PostWrap = styled(Wrap)`\r\n  width: 100%;\r\n  padding: 2rem 0;\r\n`\r\n\r\nconst Post = ({post}) => {\r\n  const { id, title, createdAt, body } = post\r\n  return (\r\n    <PostStyled>\r\n      <Link className=\"title\" to={`/post/${id}`} >{title}</Link>\r\n      <p className=\"info\">{new Date(createdAt).toLocaleString().replace(',','')}</p>\r\n      <p className=\"content\" style={{\r\n        marginTop: '2rem',\r\n        lineHeight: 2,\r\n        letterSpacing: '3px',\r\n        whiteSpace: 'pre-wrap',\r\n      }}>{body}</p>\r\n    </PostStyled>\r\n  )\r\n}\r\nPost.propTypes = {\r\n  post: PropTypes.object\r\n}\r\n\r\nconst PostPage = () => {\r\n  const { setIsLoading } = useContext(LoadingContext)\r\n  let { slug } = useParams()\r\n  const [post, setPost] = useState([])\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setIsLoading(true)\r\n      const data = await getPost(slug)\r\n      setPost(data)\r\n      setIsLoading(false)\r\n    })()\r\n  },[setIsLoading, slug])\r\n  return (\r\n    <>\r\n      <Wrap>\r\n        <PostWrap>\r\n          <Post post={post} /> \r\n        </PostWrap>\r\n      </Wrap>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PostPage;\r\n","import { keyframes } from '@emotion/react'\r\n\r\nconst drift = keyframes`\r\n  0% {\r\n    opacity: 0;\r\n    transform: translateX(-100px);\r\n  }\r\n  10% {\r\n    opacity: 1;\r\n    transform: translateX(-80px);\r\n  }\r\n  90% {\r\n    opacity: 1;\r\n    transform: translateX(80px);\r\n  }\r\n  100% {\r\n    opacity: 0;\r\n    transform: translateX(100px);\r\n  }\r\n`\r\n\r\nconst flash = keyframes`\r\n  from { opacity: 1}\r\n  to { opacity: 0}\r\n`\r\n\r\nexport { flash, drift }","import React from 'react'\r\nimport styled from '@emotion/styled'\r\nimport { Wrap, TitleH3 } from '../styles/GlobalStyle'\r\n\r\nimport { flash } from '../styles/animations.js'\r\n\r\nconst PageWrap = styled(Wrap)`\r\n  width: 100%;\r\n  padding: 2rem 0;\r\n`\r\n\r\nconst FlashMessage = styled(TitleH3)`\r\n  font-size: 2rem;\r\n  animation: ${flash} 1.2s ease-in alternate infinite;\r\n`\r\n\r\nconst ErrorPage = ({ title }) => {\r\n  return (\r\n    <Wrap>\r\n      <PageWrap>\r\n        <h1>Oops!</h1>\r\n        <FlashMessage>{title}</FlashMessage>\r\n      </PageWrap>\r\n    </Wrap>\r\n  )\r\n}\r\n\r\nexport default ErrorPage;\r\n","import React, { useState, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport styled from '@emotion/styled'\r\n\r\nimport ErrorPage from '../pages/ErrorPage.js'\r\nimport { Wrap, Button } from '../styles/GlobalStyle'\r\nimport { addPost } from '../webAPI.js'\r\nimport { getAuthToken } from '../localStorageAPI.js'\r\nimport { AuthContext, LoadingContext } from '../contexts.js'\r\n\r\nconst NewPostWrap = styled(Wrap)`\r\n  width: 100%;\r\n  padding: 2rem 0;\r\n`\r\n\r\nconst InputWrap = styled.form`\r\n  width: clamp(25ch, 70%, 70ch);\r\n  padding: 1rem;\r\n  margin-top: 3rem;\r\n  box-shadow: ${({theme}) => theme.navBoxShadow};\r\n  border: 1px solid ${({theme}) => theme.infoColor};\r\n  border-radius: .4rem;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  .button {\r\n    align-self: center;\r\n    justify-content: center;\r\n    margin: 2rem 0 1rem;\r\n    width: clamp(3rem, 30%, 6rem);\r\n  }\r\n  .title {\r\n    align-self: flex-start;\r\n    margin: 1rem 0;\r\n    font-size: 1.2rem;\r\n  }\r\n  input[type=text], textarea {\r\n    width: 100%;\r\n    font-size: 1.2rem;\r\n    background: ${({theme}) => theme.foregroundColor};\r\n    border: none;\r\n    border-bottom: 1px solid ${({theme}) => theme.titleColor};\r\n    border-radius: .3rem;\r\n    padding-left: .5rem;\r\n    height: 1.8rem;\r\n    line-height: 1.2;\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n  textarea {\r\n    padding-top: .5rem;\r\n    height: auto;\r\n    resize: vertical;\r\n  }\r\n  span {\r\n    max-width: 100%;\r\n    align-self: flex-end;\r\n    white-space: wrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n`\r\n\r\nconst Input  = ({ user }) => {\r\n  const [title, setTitle] = useState('')\r\n  const [content, setContent] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const { setIsLoading } = useContext(LoadingContext)\r\n  const history = useHistory()\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setErrorMessage('')\r\n    if (!title || !content) {\r\n      return setErrorMessage('請輸入標題或內容')\r\n    }\r\n    if (!title.trim().length\r\n      || !content.trim().length\r\n    ) return setErrorMessage('標題或內容不得為空白')\r\n    \r\n    setIsLoading(true)\r\n    const res = await addPost(getAuthToken(), title, content )\r\n    if (!res) {\r\n      setIsLoading(false)\r\n      return setErrorMessage('新增失敗')\r\n    }\r\n    setIsLoading(false)\r\n    history.push(\"/\")\r\n  }\r\n\r\n  return (\r\n    <InputWrap onSubmit={handleSubmit}>\r\n      <h1>發布文章</h1><span> - {user.nickname}</span>\r\n      {errorMessage && <div>{errorMessage}！</div>}\r\n      <div className=\"title\">標題：</div>\r\n      <input type=\"text\" value={title} onChange={e => setTitle(e.target.value)} placeholder=\"請輸入標題...\"/>\r\n      <div className=\"title\">內容：</div>\r\n      <textarea onChange={e => setContent(e.target.value)} rows=\"6\" placeholder=\"請輸入內容...\">{content}</textarea>\r\n      <Button className=\"button\">送出</Button>\r\n    </InputWrap>\r\n  )\r\n}\r\n\r\nconst NewPost = () => {\r\n  const { user } = useContext(AuthContext)\r\n  return (\r\n    <>\r\n      <Wrap>\r\n        <NewPostWrap>\r\n          {user ? <Input user={user}/> : <ErrorPage title=\"Login first...\" /> }\r\n        </NewPostWrap>\r\n      </Wrap>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NewPost;\r\n","import styled from '@emotion/styled'\r\nimport { keyframes } from '@emotion/react'\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst LoadingStyled = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: fixed;\r\n  font-size: 2rem;\r\n  z-index: 5;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  color: ${({theme}) => theme.bodyColor};\r\n  background: ${({theme}) => theme.loadingColor};\r\n  backdrop-filter: blur(2px);\r\n  &:before {\r\n    content: \"\";\r\n    display: block;\r\n    position: absolute;\r\n    top: 60%;\r\n    transform: translate(-50%, -50%);\r\n    background: transparent;\r\n    width: 27px;\r\n    height: 27px;\r\n    border-radius: 50%;\r\n    border: 5px dashed ${({theme}) => theme.bodyColor};\r\n    animation: ${rotate} 2s linear infinite;\r\n  }\r\n`\r\n\r\nconst LoadingPage = () => {\r\n  return (\r\n    <LoadingStyled>\r\n      Loading...\r\n    </LoadingStyled>\r\n  )\r\n}\r\n\r\nexport default LoadingPage","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.2,9.6c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4L8.2,9.6   z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h3C6.6,17,7,16.6,7,16z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M8.2,22.4l-2.1,2.1c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l2.1-2.1c0.4-0.4,0.4-1,0-1.4   S8.6,22,8.2,22.4z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M29.4,16.2c-0.4-0.2-0.9-0.1-1.2,0.3c-0.8,1-2,1.5-3.2,1.5c-2.3,0-4.3-1.9-4.3-4.3c0-1.6,0.9-3,2.3-3.8  c0.4-0.2,0.6-0.7,0.5-1.1C23.4,8.4,23,8,22.5,8c-0.1,0-0.3,0-0.4,0c-1.9,0-3.7,0.7-5.1,1.8V3c0-0.6-0.4-1-1-1s-1,0.4-1,1v5.1  c-3.9,0.5-7,3.9-7,7.9s3.1,7.4,7,7.9V29c0,0.6,0.4,1,1,1s1-0.4,1-1v-6.8c1.4,1.2,3.2,1.8,5.1,1.8c4,0,7.3-2.9,7.9-6.8  C30.1,16.8,29.8,16.3,29.4,16.2z M17,20c0,0.6-0.4,1-1,1s-1-0.4-1-1v-8c0-0.6,0.4-1,1-1s1,0.4,1,1V20z\"\n});\n\nfunction SvgDayNightIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Icons\",\n    style: {\n      enableBackground: \"new 0 0 32 32\"\n    },\n    viewBox: \"0 0 32 32\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDayNightIcon);\nexport default __webpack_public_path__ + \"static/media/day_night_icon.143e286b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useEffect, useRef } from 'react'\r\nimport { Link, useRouteMatch, useHistory, useLocation } from 'react-router-dom'\r\nimport styled from '@emotion/styled'\r\n\r\nimport { AuthContext } from '../contexts'\r\nimport { setAuthToken, setTheme } from '../localStorageAPI.js'\r\nimport { ReactComponent as DayNightIcon } from '../images/day_night_icon.svg'\r\nimport { drift, flash } from '../styles/animations.js'\r\n\r\n// styled ----------------------\r\nconst IconWrap = styled.div`\r\n  width: 1.5rem;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  > svg {\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n    path {\r\n      fill: ${({theme}) => theme.titleColor};\r\n    }\r\n  }\r\n`\r\n\r\nconst NavWrap = styled.div`\r\n  width: 100%;\r\n  height: 3rem;\r\n  box-shadow: ${({theme}) => theme.navBoxShadow};\r\n  background-color: ${({theme}) => theme.backgroundColor};\r\n  color: ${({theme}) => theme.titleColor};\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  position: fixed;\r\n  top: 0;\r\n  box-sizing: border-box;\r\n  z-index: 3;\r\n\r\n  #menu__btn, #menu__control {\r\n    display: none;\r\n  }\r\n  #menu__btn > span {\r\n    display: none;\r\n  }\r\n  @media screen and (max-width: 840px) {\r\n    #menu__btn {\r\n      display: inline-block;\r\n      width: 1.5rem;\r\n      height: 1.5rem;\r\n      border: 1px solid ${({theme}) => theme.titleColor};\r\n      border-radius: .3rem;\r\n      position: relative;\r\n      cursor: pointer;\r\n      margin-right: 1rem;\r\n    }\r\n    #menu__btn::before {\r\n      content: '';\r\n      position: absolute;\r\n      top: 51%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      height: .1rem;\r\n      width: .9rem;\r\n      background-color: ${({theme}) => theme.textColor};\r\n      border-radius: .1rem;\r\n      box-shadow: 0 .3rem 0px ${({theme}) => theme.textColor}, 0 -.3rem 0px ${({theme}) => theme.textColor};\r\n    }\r\n    #menu__btn:hover {\r\n      filter: brightness(0.6);\r\n    }\r\n    #menu__control:checked+div {\r\n      height: auto;\r\n      max-height: 100vh;\r\n    }\r\n  }\r\n\r\n`\r\n\r\nconst Title = styled(Link)`\r\n  text-decoration: none;\r\n  color: ${({theme}) => theme.titleColor};\r\n  font-size: 1.4rem;\r\n  position: relative;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  &:hover {\r\n    animation: ${flash} 1s ease-in alternate infinite;\r\n  }\r\n  span {\r\n    width: 3rem;\r\n    height: 1px;\r\n    position: absolute;\r\n    background: linear-gradient( 90deg, transparent, \r\n      ${({theme}) => theme.titleColor});\r\n    transform: translateX(-50%);\r\n    animation: ${drift} 2s linear infinite;\r\n    z-index: 1;\r\n  }\r\n  &:hover span {\r\n    width: 5rem;\r\n    animation: ${drift} 1s linear infinite;\r\n  }\r\n  span:nth-of-type(1) {\r\n    top: 45%;\r\n    left: 50%;\r\n  }\r\n  span:nth-of-type(2) {\r\n    top: 55%;\r\n    left: 50%;\r\n    animation-delay: .25s;\r\n  }\r\n  span:nth-of-type(3) {\r\n    top: 65%;\r\n    left: 50%;\r\n    animation-delay: .5s;\r\n  }\r\n  span:nth-of-type(4) {\r\n    top: 75%;\r\n    left: 50%;\r\n    animation-delay: .75s;\r\n  }\r\n`\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  input[name=nav] {\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n  input[name=nav]:checked + label > a {\r\n    background: ${({theme}) => theme.navCheckColor};\r\n    color: ${({theme}) => theme.bodyColor};\r\n  }\r\n  @media screen and (max-width: 840px) {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 0;\r\n    max-height: 0;\r\n    overflow:hidden;\r\n    position: absolute;\r\n    top: 3rem;\r\n    transition: max-height .8s ease;\r\n    margin: 0;\r\n    padding: 0;\r\n    z-index: -1;\r\n  }\r\n`\r\n\r\nconst NavButton = styled(Link)`\r\n  display: block;\r\n  border: none;\r\n  border-radius: 0;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  line-height: 3rem;\r\n  padding: 0 1rem;\r\n  margin: 0;\r\n  overflow: hidden;\r\n  color: ${({theme}) => theme.titleColor};\r\n  background-color: ${({theme}) => theme.backgroundColor};\r\n  &:hover {\r\n    filter:brightness(${({theme}) => theme.hoverFilter});\r\n  }\r\n  @media screen and (max-width: 840px) {\r\n    backdrop-filter: blur(2px);\r\n    width: 100vw;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst NavLogoutButton = styled.div`\r\n  display: block;\r\n  border: none;\r\n  border-radius: 0;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  line-height: 3rem;\r\n  padding: 0 1rem;\r\n  margin: 0;\r\n  overflow: hidden;\r\n  color: ${({theme}) => theme.titleColor};\r\n  background-color: ${({theme}) => theme.backgroundColor};\r\n  &:hover {\r\n    filter:brightness(${({theme}) => theme.hoverFilter});\r\n  }\r\n  @media screen and (max-width: 840px) {\r\n    backdrop-filter: blur(2px);\r\n    width: 100vw;\r\n    padding: 0;\r\n  }\r\n`\r\n\r\nconst IconButton = styled.div`\r\n  display: block;\r\n  border: none;\r\n  border-radius: 0;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  line-height: 3rem;\r\n  padding-right: 1rem;\r\n  margin: 0;\r\n  color: ${({theme}) => theme.titleColor};\r\n  background-color: ${({theme}) => theme.backgroundColor};\r\n  z-index: 3;\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 0;\r\n  transform: translate(-50%, -50%);\r\n  @media screen and (max-width: 840px) {\r\n    padding-right: .5rem;\r\n  }\r\n\r\n`\r\n\r\nconst NavButtonWrap = ({ title, to, activeOnlyWhenExact }) => {\r\n  let match = useRouteMatch({\r\n    path: to,\r\n    exact: activeOnlyWhenExact\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      {match ? (\r\n        <input type=\"radio\" name=\"nav\" checked readOnly={true} />\r\n      ) : (\r\n        <input type=\"radio\" name=\"nav\" />\r\n      )}\r\n      <label>\r\n        <NavButton to={to}>{title}</NavButton>\r\n      </label>\r\n    </div>\r\n  )\r\n}\r\n\r\n// component --------------------------\r\nconst Nav = ({currentTheme, setCurrentTheme}) => {\r\n  const { user, setUser } = useContext(AuthContext)\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n  const toggleNav = useRef(null)\r\n\r\n  useEffect(() => {\r\n    toggleNav.current.checked = false\r\n  },[location])\r\n  \r\n  const handleTheme = () => {\r\n    if (currentTheme === 'light') {\r\n      setCurrentTheme('dark')\r\n      setTheme('dark')\r\n    } else {\r\n      setCurrentTheme('light')\r\n      setTheme('light')\r\n    }\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    setAuthToken('')\r\n    setUser(null)\r\n    if (location.pathname !== \"/\") {\r\n      history.push(\"/\")\r\n    }\r\n  }\r\n\r\n  return (\r\n      <NavWrap>\r\n        <Title to=\"/\">\r\n          benben's blog\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </Title>\r\n\r\n        <label htmlFor=\"menu__control\" id=\"menu__btn\">\r\n          <span>menu</span>\r\n        </label>\r\n        <input id=\"menu__control\" type=\"checkbox\" ref={toggleNav}/>\r\n        <Buttons>\r\n\r\n          <NavButtonWrap to=\"/about\" title=\"About\" activeOnlyWhenExact={true} />\r\n          {user\r\n            ? ( <NavButtonWrap to=\"/new-post\" title=\"New Post\" activeOnlyWhenExact={true}/> )\r\n            : ( <NavButtonWrap to=\"/login\" title=\"Login\" activeOnlyWhenExact={true}/> )\r\n          }\r\n          {user\r\n            ? ( <NavLogoutButton onClick={handleLogout}>logout</NavLogoutButton> )\r\n            : ( <NavButtonWrap to=\"/register\" title=\"Register\" activeOnlyWhenExact={true}/> )\r\n          }\r\n\r\n        </Buttons>\r\n        <IconButton onClick={handleTheme}>\r\n        <IconWrap><DayNightIcon /></IconWrap>\r\n        </IconButton>\r\n      </NavWrap>\r\n  )\r\n}\r\n\r\nexport default Nav","import styled from '@emotion/styled'\r\n\r\nconst FooterWrap = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  text-align: center;\r\n  height: 1.6rem;\r\n  line-height: 1.6rem;\r\n  padding: auto;\r\n  bottom: 0;\r\n  background-color: ${({theme}) => theme.backgroundColor};\r\n  color: ${({theme}) => theme.textColor};\r\n`\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <FooterWrap>\r\n      Copyright &copy; 2021 Benben All rights reserved.\r\n    </FooterWrap>\r\n  )\r\n}\r\n\r\nexport default Footer","const theme ={\r\n  light: {\r\n    bodyColor: '#fff',\r\n    backgroundColor: '#eee',\r\n    foregroundColor: '#f3f3f3',\r\n    boxShadow: '1px 1px 0px 1px #999',\r\n    navCheckColor: '#555',\r\n    navBoxShadow: \r\n      '0px 1px 3px 1px rgba(0, 0, 0, 0.2), 0px 1px 5px 1px rgba(0, 0, 0, 0.1)',\r\n    titleColor: '#222',\r\n    infoColor: '#777',\r\n    textColor: '#555',\r\n    loadingColor: 'rgba(0,0,0,0.3)',\r\n    hoverFilter: 0.9\r\n  },\r\n\r\n  dark: {\r\n    bodyColor: '#222',\r\n    backgroundColor: '#333',\r\n    foregroundColor: '#2f2f2f',\r\n    boxShadow: '1px 1px 0px 1px rgba(255, 255, 255, 0.2)',\r\n    navBoxShadow: \r\n      '0px 1px 3px 1px rgba(255, 255, 255, 0.2), 0px 1px 5px 1px rgba(255, 255, 255, 0.1)',\r\n    navCheckColor: '#aaa',\r\n    titleColor: '#eee',\r\n    infoColor: '#ccc',\r\n    textColor: '#ccc',\r\n    loadingColor: 'rgba(255,255,255,0.3)',\r\n    hoverFilter: 1.2\r\n  }\r\n}\r\n\r\nexport default theme","import React, { useState, useEffect } from 'react'\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\" \nimport { ThemeProvider } from '@emotion/react'\nimport styled from '@emotion/styled'\n\nimport HomePage from '../pages/HomePage.js'\nimport AboutPage from '../pages/AboutPage.js'\nimport UserPage from '../pages/UserPage.js'\nimport PostPage from '../pages/PostPage.js'\nimport NewPostPage from '../pages/NewPostPage.js'\nimport LoadingPage from '../pages/LoadingPage.js'\nimport ErrorPage from '../pages/ErrorPage.js'\n\nimport Nav from './Nav'\nimport Footer from './Footer'\nimport theme from '../styles/theme'\nimport { AuthContext, LoadingContext } from '../contexts'\nimport { getMe } from '../webAPI'\nimport { getAuthToken, getTheme } from '../localStorageAPI.js'\n\nconst Container = styled.div`\n  background-color: ${({theme}) => theme.bodyColor};\n  width: 100%;\n  height: 100%;\n  min-height: calc(100vh - 4.6rem);\n`\n\nfunction Blog() {\n  const [currentTheme, setCurrentTheme] = useState(getTheme())\n  const [isLoading, setIsLoading] = useState(false)\n  const [user, setUser] = useState('')\n\n  useEffect(() => {\n    (async() => {\n      if (!getAuthToken()) return\n      setIsLoading(true)\n      const res = await getMe(getAuthToken())\n      if (res.ok) await setUser(res.data)\n      setIsLoading(false)\n    })()\n  }, [])\n\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n    <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\n    <ThemeProvider theme={theme[currentTheme]}>\n\n      <Router basename=\"/blog\">\n        <Nav currentTheme={currentTheme} setCurrentTheme={setCurrentTheme} />\n        <Container>\n          {isLoading && <LoadingPage />}\n          <Switch>\n\n            <Route exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route exact path=\"/about\">\n              <AboutPage />\n            </Route>\n            <Route exact path=\"/login\">\n              <UserPage userMethod=\"登入\"/>\n            </Route>\n            <Route exact path=\"/register\">\n              <UserPage userMethod=\"註冊\"/>\n            </Route>\n            <Route exact path=\"/new-post\">\n              <NewPostPage />\n            </Route>\n\n            <Route exact path=\"/post/:slug\">\n              <PostPage isLoading={isLoading} setIsLoading={setIsLoading}/>\n            </Route>\n\n            <Route exact path=\"*\">\n              <ErrorPage title=\"404 not found...\"/>\n            </Route>\n\n          </Switch>\n        </Container>\n        <Footer />\n      </Router>\n\n    </ThemeProvider>\n    </LoadingContext.Provider>\n    </AuthContext.Provider>\n  );\n}\n\nexport default Blog;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Global, css } from '@emotion/react'\nimport GlobalStyle from './styles/GlobalStyle'\nimport Blog from './components/Blog.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Global styles={css`${GlobalStyle}`} />\n    <Blog />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}